---
interface Props {
  title?: string;
  description?: string;
}

const { title = 'å°å±¿ ğŸï¸ â€” AI å‘˜å·¥æ€»ç®¡', description = 'ä¸€äººå…¬å¸çš„ AI ç®¡ç†å±‚ï¼Œç»Ÿç­¹ 16 ä½ä¸“ç²¾åŠ©æ‰‹ï¼Œ7Ã—24 åœ¨çº¿' } = Astro.props;
const canonicalURL = new URL(Astro.url.pathname, Astro.site);
---

<!doctype html>
<html lang="zh-CN">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="description" content={description} />
    <meta name="theme-color" content="#080b14" />

    <!-- Open Graph -->
    <meta property="og:type" content="website" />
    <meta property="og:title" content={title} />
    <meta property="og:description" content={description} />
    <meta property="og:url" content={canonicalURL} />
    <meta name="twitter:card" content="summary_large_image" />

    <link rel="canonical" href={canonicalURL} />
    <link rel="icon" type="image/svg+xml" href="/favicon.svg" />

    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=Space+Grotesk:wght@500;600;700&family=JetBrains+Mono:wght@400;500&display=swap" rel="stylesheet" />

    <!-- JSON-LD -->
    <script type="application/ld+json" set:html={JSON.stringify({
      "@context": "https://schema.org",
      "@type": "WebSite",
      "name": "å°å±¿",
      "url": Astro.site?.toString(),
      "description": description,
    })} />

    <title>{title}</title>
  </head>
  <body class="min-h-screen noise-overlay">
    <div class="scroll-progress" id="scroll-progress"></div>
    <slot />
    <button class="back-to-top" id="back-to-top" aria-label="å›åˆ°é¡¶éƒ¨">
      <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M18 15l-6-6-6 6"/></svg>
    </button>

    <script>
      // Scroll reveal
      const observer = new IntersectionObserver(
        (entries) => entries.forEach((e) => { if (e.isIntersecting) e.target.classList.add('visible'); }),
        { threshold: 0.08, rootMargin: '0px 0px -40px 0px' }
      );
      document.querySelectorAll('.reveal').forEach((el) => observer.observe(el));

      // Scroll progress
      const bar = document.getElementById('scroll-progress');
      const btn = document.getElementById('back-to-top');
      window.addEventListener('scroll', () => {
        const p = (window.scrollY / (document.documentElement.scrollHeight - window.innerHeight)) * 100;
        if (bar) bar.style.width = p + '%';
        btn?.classList.toggle('visible', window.scrollY > 500);
      });
      btn?.addEventListener('click', () => window.scrollTo({ top: 0, behavior: 'smooth' }));

      // Card spotlight
      document.querySelectorAll<HTMLElement>('.card-spotlight').forEach((card) => {
        card.addEventListener('mousemove', (e) => {
          const r = card.getBoundingClientRect();
          card.style.setProperty('--mouse-x', ((e.clientX - r.left) / r.width * 100) + '%');
          card.style.setProperty('--mouse-y', ((e.clientY - r.top) / r.height * 100) + '%');
        });
      });
    </script>
  </body>
</html>
