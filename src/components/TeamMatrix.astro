---
import agents from '../data/agents.json';

const statusColors: Record<string, string> = {
  online: 'bg-sea-green',
  idle: 'bg-sea-yellow',
  offline: 'bg-sea-gray',
};

const statusLabels: Record<string, string> = {
  online: 'åœ¨çº¿',
  idle: 'å¾…å‘½',
  offline: 'ç¦»çº¿',
};
---

<section id="team" class="py-28 px-6">
  <div class="max-w-6xl mx-auto">
    <div class="text-center mb-20 fade-in">
      <p class="text-sea-cyan font-mono text-sm tracking-widest uppercase mb-4">Team Matrix</p>
      <h2 class="text-3xl sm:text-4xl lg:text-5xl font-heading font-bold mb-5 tracking-tight">
        å›¢é˜ŸçŸ©é˜µ
      </h2>
      <p class="text-sea-muted text-lg max-w-lg mx-auto">ä¸‰å±‚æ¶æ„ï¼Œå„å¸å…¶èŒï¼ŒååŒä½œæˆ˜</p>
    </div>

    {agents.levels.map((level, levelIndex) => (
      <div class="mb-20 fade-in" style={`transition-delay: ${levelIndex * 100}ms`}>
        <div class="flex items-center gap-4 mb-8">
          <div class="h-px flex-1 bg-gradient-to-r from-transparent via-sea-cyan/15 to-transparent"></div>
          <h3 class="text-sea-cyan font-mono font-medium text-xs tracking-[0.2em] uppercase whitespace-nowrap">
            {level.name}
          </h3>
          <div class="h-px flex-1 bg-gradient-to-r from-transparent via-sea-cyan/15 to-transparent"></div>
        </div>

        <div class={`grid gap-4 ${
          levelIndex === 0
            ? 'grid-cols-1 max-w-sm mx-auto'
            : 'grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4'
        }`}>
          {level.agents.map((agent, i) => (
            <div
              class={`group glass-card p-5 card-hover cursor-pointer ${
                levelIndex === 0 ? 'border-sea-cyan/15 py-7' : ''
              }`}
              style={`transition-delay: ${i * 60}ms`}
            >
              <div class="flex items-start gap-3.5">
                <span class={`${levelIndex === 0 ? 'text-4xl' : 'text-2xl'} group-hover:scale-110 transition-transform duration-300`}>
                  {agent.emoji}
                </span>
                <div class="flex-1 min-w-0">
                  <div class="flex items-center gap-2.5">
                    <h4 class="font-heading font-semibold text-sea-text">{agent.name}</h4>
                    <span
                      class={`w-1.5 h-1.5 rounded-full ${statusColors[agent.status]} ${agent.status === 'online' ? 'status-online' : ''}`}
                      title={statusLabels[agent.status]}
                    ></span>
                  </div>
                  <p class="text-sea-muted text-sm mt-1.5 leading-relaxed">{agent.role}</p>
                </div>
              </div>

              <!-- Tags on hover -->
              <div class="mt-4 flex flex-wrap gap-1.5 opacity-0 group-hover:opacity-100 transition-opacity duration-300">
                {agent.tags.map((tag: string) => (
                  <span class="text-[11px] px-2.5 py-1 rounded-full bg-sea-cyan/[0.07] text-sea-cyan/70 border border-sea-cyan/[0.08] font-medium">
                    {tag}
                  </span>
                ))}
              </div>
            </div>
          ))}
        </div>
      </div>
    ))}

    <!-- Architecture hint -->
    <div class="text-center fade-in">
      <div class="inline-flex items-center gap-3 px-5 py-2.5 rounded-full bg-white/[0.02] border border-white/[0.05] text-sea-muted/40 text-xs font-mono">
        ğŸï¸ å°å±¿ â†’ èŒèƒ½å±‚(7) + å±¿å¢¨ â†’ å¹³å°å±‚(8)
      </div>
    </div>
  </div>
</section>
